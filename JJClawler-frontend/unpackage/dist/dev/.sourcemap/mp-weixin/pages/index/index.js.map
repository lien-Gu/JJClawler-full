{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\r\n  <view class=\"index-page\">\r\n    <!-- 主要内容区域 -->\r\n    <view class=\"content-container\">\r\n      <!-- 问候语 -->\r\n      <view class=\"greeting-section\">\r\n        <text class=\"greeting-text\">嗨~</text>\r\n      </view>\r\n      \r\n      <!-- 统计报告卡片 -->\r\n      <view class=\"summary-card\" @tap=\"goToStatisticsDetail\">\r\n        <view class=\"summary-content\">\r\n          <text class=\"summary-title\">统计报告</text>\r\n          <view class=\"summary-button\" @tap.stop=\"goToStatisticsDetail\">\r\n            <text class=\"button-text\">查看详情</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 分项统计 -->\r\n      <view class=\"reports-section\">\r\n        <text class=\"section-title\">分项</text>\r\n        <scroll-view class=\"reports-scroll\" scroll-x show-scrollbar=\"false\">\r\n          <view class=\"reports-container\">\r\n            <view class=\"report-card\" @tap=\"goToRankingStats\">\r\n              <text class=\"report-title\">榜单统计</text>\r\n              <text class=\"report-desc\">查看榜单数据</text>\r\n            </view>\r\n            <view class=\"report-card\" @tap=\"goToBookStats\">\r\n              <text class=\"report-title\">书籍统计</text>\r\n              <text class=\"report-desc\">查看书籍数据</text>\r\n            </view>\r\n            <view class=\"report-card\" @tap=\"goToChannelStats\">\r\n              <text class=\"report-title\">频道统计</text>\r\n              <text class=\"report-desc\">查看频道数据</text>\r\n            </view>\r\n          </view>\r\n        </scroll-view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * 首页\r\n * @description 展示统计报告和分项统计，按照Figma设计实现\r\n */\r\nexport default {\r\n\tname: 'IndexPage',\r\n\t\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// 可以在这里添加一些状态数据\r\n\t\t}\r\n\t},\r\n\t\r\n\tonLoad() {\r\n\t\t// 页面加载时的初始化\r\n\t\tconsole.log('首页加载完成')\r\n\t},\r\n\t\r\n\t// 下拉刷新\r\n\tonPullDownRefresh() {\r\n\t\t// 这里可以添加刷新逻辑\r\n\t\tsetTimeout(() => {\r\n\t\t\tuni.stopPullDownRefresh()\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '刷新完成',\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\tduration: 1500\r\n\t\t\t})\r\n\t\t}, 1000)\r\n\t},\r\n\t\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 跳转到统计详情页面（后端接口）\r\n\t\t */\r\n\t\tgoToStatisticsDetail() {\r\n\t\t\tthis.openBackendUrl('/api/statistics/detail', '统计详情')\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * 跳转到榜单统计（后端接口）\r\n\t\t */\r\n\t\tgoToRankingStats() {\r\n\t\t\tthis.openBackendUrl('/api/statistics/rankings', '榜单统计')\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * 跳转到书籍统计（后端接口）\r\n\t\t */\r\n\t\tgoToBookStats() {\r\n\t\t\tthis.openBackendUrl('/api/statistics/books', '书籍统计')\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * 跳转到频道统计（后端接口）\r\n\t\t */\r\n\t\tgoToChannelStats() {\r\n\t\t\tthis.openBackendUrl('/api/statistics/channels', '频道统计')\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * 打开后端接口URL\r\n\t\t * @param {string} path - 接口路径\r\n\t\t * @param {string} title - 页面标题\r\n\t\t */\r\n\t\topenBackendUrl(path, title) {\r\n\t\t\t// 获取后端基础URL\r\n\t\t\tconst baseUrl = this.getApiBaseUrl()\r\n\t\t\tconst fullUrl = baseUrl + path\r\n\t\t\t\r\n\t\t\tconsole.log(`准备打开${title}页面:`, fullUrl)\r\n\t\t\t\r\n\t\t\t// 在小程序中打开网页\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/webview/index?url=${encodeURIComponent(fullUrl)}&title=${encodeURIComponent(title)}`\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t// 在其他平台中的处理\r\n\t\t\t// #ifndef MP-WEIXIN\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: title,\r\n\t\t\t\tcontent: `将要打开: ${fullUrl}`,\r\n\t\t\t\tconfirmText: '打开',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t// 在H5或APP中可以直接打开链接\r\n\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\twindow.open(fullUrl, '_blank')\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\tplus.runtime.openURL(fullUrl)\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * 获取API基础URL\r\n\t\t */\r\n\t\tgetApiBaseUrl() {\r\n\t\t\t// 开发环境\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\treturn 'https://your-api-domain.com'  // 小程序中需要使用HTTPS\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t// #ifndef MP-WEIXIN\r\n\t\t\treturn 'http://localhost:8000'  // 开发环境\r\n\t\t\t// #endif\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.index-page {\r\n\tmin-height: 100vh;\r\n\tbackground-color: $background-color;\r\n\tpadding: 0 $spacing-md;\r\n\tpadding-bottom: calc(#{$safe-area-bottom} + #{$spacing-lg});\r\n}\r\n\r\n.content-container {\r\n\tpadding: 49rpx 62rpx 0;  // 按照Figma设计的间距\r\n\t\r\n\t// 问候语部分\r\n\t.greeting-section {\r\n\t\tmargin-bottom: 48rpx;  // 24px * 2\r\n\t\t\r\n\t\t.greeting-text {\r\n\t\t\tfont-family: 'Inter', sans-serif;\r\n\t\t\tfont-weight: 600;  // Semi Bold\r\n\t\t\tfont-size: 64rpx;  // 32px * 2\r\n\t\t\tline-height: 80rpx;  // 40px * 2\r\n\t\t\tcolor: #454444;  // text secondary\r\n\t\t}\r\n\t}\r\n\t\r\n\t// 统计报告卡片\r\n\t.summary-card {\r\n\t\twidth: 100%;\r\n\t\theight: 434rpx;\r\n\t\tbackground-color: $secondary-color;\r\n\t\tborder-radius: $radius-lg;\r\n\t\tmargin-bottom: $spacing-lg;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: $shadow-md;\r\n\t\ttransition: $transition-normal;\r\n\t\t\r\n\t\t.summary-content {\r\n\t\t\tpadding: 116rpx 56rpx 0;  // 按照Figma设计调整\r\n\t\t\t\r\n\t\t\t.summary-title {\r\n\t\t\t\tfont-family: 'Inter', sans-serif;\r\n\t\t\t\tfont-weight: 600;  // Semi Bold\r\n\t\t\t\tfont-size: 64rpx;  // 32px * 2\r\n\t\t\t\tline-height: 80rpx;  // 40px * 2\r\n\t\t\t\tcolor: #ffffff;  // 白色文字\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin-bottom: 38rpx;  // 调整间距\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.summary-button {\r\n\t\t\t\tbackground: linear-gradient(135deg, $primary-color 0%, $primary-light 100%);\r\n\t\t\t\tborder-radius: 36rpx;\r\n\t\t\t\tpadding: $spacing-sm $spacing-md;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tbox-shadow: $shadow-primary;\r\n\t\t\t\ttransition: $transition-normal;\r\n\t\t\t\t\r\n\t\t\t\t.button-text {\r\n\t\t\t\t\tfont-family: 'Inter', sans-serif;\r\n\t\t\t\t\tfont-weight: 400;  // Regular\r\n\t\t\t\t\tfont-size: 32rpx;  // 16px * 2\r\n\t\t\t\t\tline-height: 48rpx;  // 24px * 2\r\n\t\t\t\t\tcolor: #ffffff;  // 白色文字\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t&:active {\r\n\t\t\t\t\topacity: 0.8;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t&:active {\r\n\t\t\topacity: 0.9;\r\n\t\t}\r\n\t}\r\n\t\r\n\t// 分项统计部分\r\n\t.reports-section {\r\n\t\t.section-title {\r\n\t\t\tfont-family: 'Inter', sans-serif;\r\n\t\t\tfont-weight: 600;  // Semi Bold\r\n\t\t\tfont-size: 40rpx;  // 20px * 2\r\n\t\t\tline-height: 56rpx;  // 28px * 2\r\n\t\t\tcolor: #000000;  // 黑色\r\n\t\t\tdisplay: block;\r\n\t\t\tmargin-bottom: 32rpx;  // 16px * 2\r\n\t\t}\r\n\t\t\r\n\t\t.reports-scroll {\r\n\t\t\twhite-space: nowrap;\r\n\t\t\t\r\n\t\t\t.reports-container {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: 16rpx;\r\n\t\t\t\tpadding: 0 32rpx;\r\n\t\t\t\t\r\n\t\t\t\t.report-card {\r\n\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t\twidth: 240rpx;\r\n\t\t\t\t\theight: 180rpx;\r\n\t\t\t\t\tbackground: linear-gradient(135deg, #64a347 0%, #7bb354 100%);\r\n\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\tpadding: 24rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tbox-shadow: 0 8rpx 24rpx rgba(100, 163, 71, 0.2);\r\n\t\t\t\t\t\r\n\t\t\t\t\t.report-title {\r\n\t\t\t\t\t\tfont-family: 'Inter', sans-serif;\r\n\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tline-height: 36rpx;\r\n\t\t\t\t\t\tcolor: #ffffff;\r\n\t\t\t\t\t\tmargin: 8rpx 0 4rpx 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.report-desc {\r\n\t\t\t\t\t\tfont-family: 'Inter', sans-serif;\r\n\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\t\tline-height: 28rpx;\r\n\t\t\t\t\t\tcolor: rgba(255, 255, 255, 0.8);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t&:active {\r\n\t\t\t\t\t\topacity: 0.8;\r\n\t\t\t\t\t\ttransform: scale(0.98);\r\n\t\t\t\t\t\ttransition: all 0.2s ease;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import MiniProgramPage from '/Users/guliyu/weixin-miniapp/JJClawler-frontend/JJClawler-frontend/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAgDA,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EAEN,OAAO;AACN,WAAO;AAAA;AAAA,IAEP;AAAA,EACA;AAAA,EAED,SAAS;AAERA,kBAAAA,MAAY,MAAA,OAAA,+BAAA,QAAQ;AAAA,EACpB;AAAA;AAAA,EAGD,oBAAoB;AAEnB,eAAW,MAAM;AAChBA,oBAAAA,MAAI,oBAAoB;AACxBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,QACN,UAAU;AAAA,OACV;AAAA,IACD,GAAE,GAAI;AAAA,EACP;AAAA,EAED,SAAS;AAAA;AAAA;AAAA;AAAA,IAIR,uBAAuB;AACtB,WAAK,eAAe,0BAA0B,MAAM;AAAA,IACpD;AAAA;AAAA;AAAA;AAAA,IAKD,mBAAmB;AAClB,WAAK,eAAe,4BAA4B,MAAM;AAAA,IACtD;AAAA;AAAA;AAAA;AAAA,IAKD,gBAAgB;AACf,WAAK,eAAe,yBAAyB,MAAM;AAAA,IACnD;AAAA;AAAA;AAAA;AAAA,IAKD,mBAAmB;AAClB,WAAK,eAAe,4BAA4B,MAAM;AAAA,IACtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOD,eAAe,MAAM,OAAO;AAE3B,YAAM,UAAU,KAAK,cAAc;AACnC,YAAM,UAAU,UAAU;AAE1BA,0BAAY,MAAA,OAAA,gCAAA,OAAO,KAAK,OAAO,OAAO;AAItCA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,4BAA4B,mBAAmB,OAAO,CAAC,UAAU,mBAAmB,KAAK,CAAC;AAAA,OAC/F;AAAA,IAuBD;AAAA;AAAA;AAAA;AAAA,IAKD,gBAAgB;AAGf,aAAO;AAAA,IAMR;AAAA,EACD;AACD;;;;;;;;;;;AC9JA,GAAG,WAAW,eAAe;"}