{"version":3,"file":"index.js","sources":["pages/settings/index.vue","pages/settings/index.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"settings-page\">\n    <!-- Áî®Êà∑‰ø°ÊÅØÂå∫Âüü -->\n    <view class=\"user-section\">\n      <view class=\"user-info\">\n        <view class=\"avatar-section\">\n          <view class=\"user-avatar\" v-if=\"userInfo.avatar\">\n            <image :src=\"userInfo.avatar\" mode=\"aspectFill\" class=\"avatar-image\" />\n          </view>\n          <view class=\"user-avatar placeholder\" v-else>\n            <text class=\"avatar-text\">üë§</text>\n          </view>\n        </view>\n        \n        <view class=\"user-details\">\n          <text class=\"user-name\">{{ userInfo.nickname || 'Êú™ËÆæÁΩÆÊòµÁß∞' }}</text>\n          <text class=\"user-id\" v-if=\"userInfo.id\">ID: {{ userInfo.id }}</text>\n          <text class=\"user-status\">{{ userInfo.isLogin ? 'Â∑≤ÁôªÂΩï' : 'Êú™ÁôªÂΩï' }}</text>\n        </view>\n        \n        <view class=\"user-actions\">\n          <view class=\"action-btn\" v-if=\"!userInfo.isLogin\" @tap=\"showLogin\">\n            <text class=\"btn-text\">ÁôªÂΩï</text>\n          </view>\n          <view class=\"action-btn\" v-else @tap=\"showProfile\">\n            <text class=\"btn-text\">ÁºñËæë</text>\n          </view>\n        </view>\n      </view>\n      \n      <!-- ÁªüËÆ°‰ø°ÊÅØ -->\n      <view class=\"user-stats\">\n        <view class=\"stat-item\">\n          <text class=\"stat-value\">{{ userStats.followRankings || 0 }}</text>\n          <text class=\"stat-label\">ÂÖ≥Ê≥®Ê¶úÂçï</text>\n        </view>\n        <view class=\"stat-item\">\n          <text class=\"stat-value\">{{ userStats.followBooks || 0 }}</text>\n          <text class=\"stat-label\">ÂÖ≥Ê≥®‰π¶Á±ç</text>\n        </view>\n        <view class=\"stat-item\">\n          <text class=\"stat-value\">{{ userStats.readHistory || 0 }}</text>\n          <text class=\"stat-label\">ÊµèËßàËÆ∞ÂΩï</text>\n        </view>\n      </view>\n    </view>\n    \n    <!-- ÂäüËÉΩËÆæÁΩÆÂå∫Âüü -->\n    <view class=\"settings-section\">\n      <view class=\"section-title\">\n        <text class=\"title-text\">ÂäüËÉΩËÆæÁΩÆ</text>\n      </view>\n      \n      <view class=\"settings-list\">\n        <!-- ÈÄöÁü•ËÆæÁΩÆ -->\n        <view class=\"setting-item\">\n          <view class=\"item-info\">\n            <text class=\"item-icon\">üîî</text>\n            <view class=\"item-content\">\n              <text class=\"item-title\">Êé®ÈÄÅÈÄöÁü•</text>\n              <text class=\"item-desc\">Ê¶úÂçïÊõ¥Êñ∞„ÄÅÂÖ≥Ê≥®‰π¶Á±çÊõ¥Êñ∞ÊèêÈÜí</text>\n            </view>\n          </view>\n          <switch \n            :checked=\"settings.pushNotification\" \n            @change=\"toggleSetting('pushNotification', $event)\"\n            color=\"#3CC51F\"\n          />\n        </view>\n        \n        <!-- Ëá™Âä®Âà∑Êñ∞ -->\n        <view class=\"setting-item\">\n          <view class=\"item-info\">\n            <text class=\"item-icon\">üîÑ</text>\n            <view class=\"item-content\">\n              <text class=\"item-title\">Ëá™Âä®Âà∑Êñ∞</text>\n              <text class=\"item-desc\">ÊâìÂºÄÂ∫îÁî®Êó∂Ëá™Âä®Ëé∑ÂèñÊúÄÊñ∞Êï∞ÊçÆ</text>\n            </view>\n          </view>\n          <switch \n            :checked=\"settings.autoRefresh\" \n            @change=\"toggleSetting('autoRefresh', $event)\"\n            color=\"#3CC51F\"\n          />\n        </view>\n        \n        <!-- Êï∞ÊçÆÁºìÂ≠ò -->\n        <view class=\"setting-item\">\n          <view class=\"item-info\">\n            <text class=\"item-icon\">üíæ</text>\n            <view class=\"item-content\">\n              <text class=\"item-title\">Êï∞ÊçÆÁºìÂ≠ò</text>\n              <text class=\"item-desc\">ÁºìÂ≠òÊï∞ÊçÆ‰ª•ÊèêÂçáÂä†ËΩΩÈÄüÂ∫¶</text>\n            </view>\n          </view>\n          <switch \n            :checked=\"settings.enableCache\" \n            @change=\"toggleSetting('enableCache', $event)\"\n            color=\"#3CC51F\"\n          />\n        </view>\n        \n        <!-- Ê∑±Ëâ≤Ê®°Âºè -->\n        <view class=\"setting-item\">\n          <view class=\"item-info\">\n            <text class=\"item-icon\">üåô</text>\n            <view class=\"item-content\">\n              <text class=\"item-title\">Ê∑±Ëâ≤Ê®°Âºè</text>\n              <text class=\"item-desc\">Ë∑üÈöèÁ≥ªÁªüÊàñÊâãÂä®ËÆæÁΩÆ</text>\n            </view>\n          </view>\n          <view class=\"setting-value\" @tap=\"showThemeOptions\">\n            <text class=\"value-text\">{{ themeLabels[settings.theme] }}</text>\n            <text class=\"arrow-icon\">‚Ä∫</text>\n          </view>\n        </view>\n      </view>\n    </view>\n    \n    <!-- Â∫îÁî®‰ø°ÊÅØÂå∫Âüü -->\n    <view class=\"app-section\">\n      <view class=\"section-title\">\n        <text class=\"title-text\">Â∫îÁî®‰ø°ÊÅØ</text>\n      </view>\n      \n      <view class=\"app-list\">\n        <!-- ÁºìÂ≠òÁÆ°ÁêÜ -->\n        <view class=\"app-item\" @tap=\"showCacheManager\">\n          <view class=\"item-info\">\n            <text class=\"item-icon\">üóÇ</text>\n            <text class=\"item-title\">ÁºìÂ≠òÁÆ°ÁêÜ</text>\n          </view>\n          <view class=\"item-extra\">\n            <text class=\"extra-text\">{{ formatCacheSize(cacheSize) }}</text>\n            <text class=\"arrow-icon\">‚Ä∫</text>\n          </view>\n        </view>\n        \n        <!-- ÁâàÊú¨‰ø°ÊÅØ -->\n        <view class=\"app-item\">\n          <view class=\"item-info\">\n            <text class=\"item-icon\">üì±</text>\n            <text class=\"item-title\">ÂΩìÂâçÁâàÊú¨</text>\n          </view>\n          <view class=\"item-extra\">\n            <text class=\"extra-text\">{{ appVersion }}</text>\n          </view>\n        </view>\n        \n        <!-- Ê£ÄÊü•Êõ¥Êñ∞ -->\n        <view class=\"app-item\" @tap=\"checkUpdate\">\n          <view class=\"item-info\">\n            <text class=\"item-icon\">‚¨ÜÔ∏è</text>\n            <text class=\"item-title\">Ê£ÄÊü•Êõ¥Êñ∞</text>\n          </view>\n          <view class=\"item-extra\">\n            <text class=\"extra-text\" v-if=\"updateChecking\">Ê£ÄÊü•‰∏≠...</text>\n            <text class=\"arrow-icon\" v-else>‚Ä∫</text>\n          </view>\n        </view>\n        \n        <!-- ÊÑèËßÅÂèçÈ¶à -->\n        <view class=\"app-item\" @tap=\"goToFeedback\">\n          <view class=\"item-info\">\n            <text class=\"item-icon\">üí¨</text>\n            <text class=\"item-title\">ÊÑèËßÅÂèçÈ¶à</text>\n          </view>\n          <view class=\"item-extra\">\n            <text class=\"arrow-icon\">‚Ä∫</text>\n          </view>\n        </view>\n        \n        <!-- ÂÖ≥‰∫éÊàë‰ª¨ -->\n        <view class=\"app-item\" @tap=\"showAbout\">\n          <view class=\"item-info\">\n            <text class=\"item-icon\">‚ÑπÔ∏è</text>\n            <text class=\"item-title\">ÂÖ≥‰∫éÊàë‰ª¨</text>\n          </view>\n          <view class=\"item-extra\">\n            <text class=\"arrow-icon\">‚Ä∫</text>\n          </view>\n        </view>\n      </view>\n    </view>\n    \n    <!-- ÈÄÄÂá∫ÁôªÂΩï -->\n    <view class=\"logout-section\" v-if=\"userInfo.isLogin\">\n      <view class=\"logout-btn\" @tap=\"showLogoutConfirm\">\n        <text class=\"logout-text\">ÈÄÄÂá∫ÁôªÂΩï</text>\n      </view>\n    </view>\n    \n    <!-- ‰∏ªÈ¢òÈÄâÊã©ÂºπÁ™ó -->\n    <view class=\"theme-popup\" v-if=\"showThemePopup\" @tap=\"hideThemePopup\">\n      <view class=\"popup-content\" @tap.stop>\n        <view class=\"popup-header\">\n          <text class=\"popup-title\">ÈÄâÊã©‰∏ªÈ¢ò</text>\n          <view class=\"popup-close\" @tap=\"hideThemePopup\">\n            <text class=\"close-text\">√ó</text>\n          </view>\n        </view>\n        <view class=\"theme-options\">\n          <view \n            class=\"theme-option\" \n            :class=\"{ 'active': theme.value === settings.theme }\"\n            v-for=\"theme in themeOptions\" \n            :key=\"theme.value\"\n            @tap=\"selectTheme(theme.value)\"\n          >\n            <text class=\"theme-icon\">{{ theme.icon }}</text>\n            <text class=\"theme-label\">{{ theme.label }}</text>\n            <text class=\"theme-check\" v-if=\"theme.value === settings.theme\">‚úì</text>\n          </view>\n        </view>\n      </view>\n    </view>\n    \n    <!-- ÁºìÂ≠òÁÆ°ÁêÜÂºπÁ™ó -->\n    <view class=\"cache-popup\" v-if=\"showCachePopup\" @tap=\"hideCachePopup\">\n      <view class=\"popup-content\" @tap.stop>\n        <view class=\"popup-header\">\n          <text class=\"popup-title\">ÁºìÂ≠òÁÆ°ÁêÜ</text>\n          <view class=\"popup-close\" @tap=\"hideCachePopup\">\n            <text class=\"close-text\">√ó</text>\n          </view>\n        </view>\n        <view class=\"cache-info\">\n          <view class=\"cache-item\">\n            <text class=\"cache-label\">ÂõæÁâáÁºìÂ≠ò</text>\n            <text class=\"cache-size\">{{ formatCacheSize(cacheInfo.images) }}</text>\n          </view>\n          <view class=\"cache-item\">\n            <text class=\"cache-label\">Êï∞ÊçÆÁºìÂ≠ò</text>\n            <text class=\"cache-size\">{{ formatCacheSize(cacheInfo.data) }}</text>\n          </view>\n          <view class=\"cache-item\">\n            <text class=\"cache-label\">ÊÄªÁºìÂ≠ò</text>\n            <text class=\"cache-size\">{{ formatCacheSize(cacheSize) }}</text>\n          </view>\n        </view>\n        <view class=\"cache-actions\">\n          <view class=\"cache-btn\" @tap=\"clearCache('images')\">\n            <text class=\"btn-text\">Ê∏ÖÁêÜÂõæÁâáÁºìÂ≠ò</text>\n          </view>\n          <view class=\"cache-btn\" @tap=\"clearCache('data')\">\n            <text class=\"btn-text\">Ê∏ÖÁêÜÊï∞ÊçÆÁºìÂ≠ò</text>\n          </view>\n          <view class=\"cache-btn danger\" @tap=\"clearCache('all')\">\n            <text class=\"btn-text\">Ê∏ÖÁêÜÂÖ®ÈÉ®ÁºìÂ≠ò</text>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { get, post } from '@/utils/request.js'\nimport { getSync, setSync, removeSync, clearSync } from '@/utils/storage.js'\n\n/**\n * ËÆæÁΩÆÈ°µÈù¢\n * @description Áî®Êà∑ËÆæÁΩÆ„ÄÅÂ∫îÁî®ÈÖçÁΩÆ„ÄÅÁ≥ªÁªü‰ø°ÊÅØÁ≠â\n */\nexport default {\n  name: 'SettingsPage',\n  \n  data() {\n    return {\n      // Áî®Êà∑‰ø°ÊÅØ\n      userInfo: {\n        id: '',\n        nickname: '',\n        avatar: '',\n        isLogin: false\n      },\n      \n      // Áî®Êà∑ÁªüËÆ°\n      userStats: {\n        followRankings: 0,\n        followBooks: 0,\n        readHistory: 0\n      },\n      \n      // Â∫îÁî®ËÆæÁΩÆ\n      settings: {\n        pushNotification: true,\n        autoRefresh: true,\n        enableCache: true,\n        theme: 'auto' // auto, light, dark\n      },\n      \n      // ‰∏ªÈ¢òÈÄâÈ°π\n      themeOptions: [\n        { value: 'auto', label: 'Ë∑üÈöèÁ≥ªÁªü', icon: 'üîÑ' },\n        { value: 'light', label: 'ÊµÖËâ≤Ê®°Âºè', icon: '‚òÄÔ∏è' },\n        { value: 'dark', label: 'Ê∑±Ëâ≤Ê®°Âºè', icon: 'üåô' }\n      ],\n      \n      themeLabels: {\n        auto: 'Ë∑üÈöèÁ≥ªÁªü',\n        light: 'ÊµÖËâ≤Ê®°Âºè',\n        dark: 'Ê∑±Ëâ≤Ê®°Âºè'\n      },\n      \n      // ÁºìÂ≠ò‰ø°ÊÅØ\n      cacheSize: 0,\n      cacheInfo: {\n        images: 0,\n        data: 0\n      },\n      \n      // Â∫îÁî®‰ø°ÊÅØ\n      appVersion: '1.0.0',\n      \n      // ÂºπÁ™óÁä∂ÊÄÅ\n      showThemePopup: false,\n      showCachePopup: false,\n      \n      // Âä†ËΩΩÁä∂ÊÄÅ\n      updateChecking: false\n    }\n  },\n  \n  onLoad() {\n    this.initData()\n  },\n  \n  onShow() {\n    this.refreshUserStats()\n  },\n  \n  methods: {\n    /**\n     * ÂàùÂßãÂåñÊï∞ÊçÆ\n     */\n    async initData() {\n      try {\n        // Âä†ËΩΩÁî®Êà∑‰ø°ÊÅØ\n        this.loadUserInfo()\n        \n        // Âä†ËΩΩÂ∫îÁî®ËÆæÁΩÆ\n        this.loadSettings()\n        \n        // Ëé∑ÂèñÁºìÂ≠ò‰ø°ÊÅØ\n        await this.getCacheInfo()\n        \n        // Ëé∑ÂèñÁî®Êà∑ÁªüËÆ°\n        await this.fetchUserStats()\n      } catch (error) {\n        console.error('ÂàùÂßãÂåñËÆæÁΩÆÈ°µÈù¢Â§±Ë¥•:', error)\n      }\n    },\n    \n    /**\n     * Âä†ËΩΩÁî®Êà∑‰ø°ÊÅØ\n     */\n    loadUserInfo() {\n      const cachedUser = getSync('user_info')\n      if (cachedUser) {\n        this.userInfo = {\n          ...this.userInfo,\n          ...cachedUser,\n          isLogin: true\n        }\n      }\n    },\n    \n    /**\n     * Âä†ËΩΩÂ∫îÁî®ËÆæÁΩÆ\n     */\n    loadSettings() {\n      const cachedSettings = getSync('app_settings')\n      if (cachedSettings) {\n        this.settings = {\n          ...this.settings,\n          ...cachedSettings\n        }\n      }\n    },\n    \n    /**\n     * Ëé∑ÂèñÁî®Êà∑ÁªüËÆ°\n     */\n    async fetchUserStats() {\n      try {\n        const data = await get('/api/user/stats')\n        if (data) {\n          this.userStats = data\n        }\n      } catch (error) {\n        console.error('Ëé∑ÂèñÁî®Êà∑ÁªüËÆ°Â§±Ë¥•:', error)\n        // ‰ªéÊú¨Âú∞ÁºìÂ≠òËé∑Âèñ\n        const followRankings = getSync('follow_rankings') || []\n        const followBooks = getSync('follow_books') || []\n        \n        this.userStats = {\n          followRankings: followRankings.length,\n          followBooks: followBooks.length,\n          readHistory: 0\n        }\n      }\n    },\n    \n    /**\n     * Âà∑Êñ∞Áî®Êà∑ÁªüËÆ°\n     */\n    async refreshUserStats() {\n      await this.fetchUserStats()\n    },\n    \n    /**\n     * Ëé∑ÂèñÁºìÂ≠ò‰ø°ÊÅØ\n     */\n    async getCacheInfo() {\n      try {\n        // ËøôÈáåÊ®°ÊãüËé∑ÂèñÁºìÂ≠òÂ§ßÂ∞è\n        // ÂÆûÈôÖÈ°πÁõÆ‰∏≠ÂèØËÉΩÈúÄË¶ÅË∞ÉÁî®uniÁöÑAPIÊàñËá™Â∑±ÁªüËÆ°\n        const imageCache = Math.random() * 10 * 1024 * 1024 // 0-10MB\n        const dataCache = Math.random() * 5 * 1024 * 1024 // 0-5MB\n        \n        this.cacheInfo = {\n          images: imageCache,\n          data: dataCache\n        }\n        \n        this.cacheSize = imageCache + dataCache\n      } catch (error) {\n        console.error('Ëé∑ÂèñÁºìÂ≠ò‰ø°ÊÅØÂ§±Ë¥•:', error)\n      }\n    },\n    \n    /**\n     * ÂàáÊç¢ËÆæÁΩÆÈ°π\n     */\n    toggleSetting(key, event) {\n      this.settings[key] = event.detail.value\n      this.saveSettings()\n    },\n    \n    /**\n     * ‰øùÂ≠òËÆæÁΩÆ\n     */\n    saveSettings() {\n      setSync('app_settings', this.settings)\n      \n      uni.showToast({\n        title: 'ËÆæÁΩÆÂ∑≤‰øùÂ≠ò',\n        icon: 'success',\n        duration: 1500\n      })\n    },\n    \n    /**\n     * ÊòæÁ§∫‰∏ªÈ¢òÈÄâÊã©\n     */\n    showThemeOptions() {\n      this.showThemePopup = true\n    },\n    \n    /**\n     * ÈöêËóè‰∏ªÈ¢òÂºπÁ™ó\n     */\n    hideThemePopup() {\n      this.showThemePopup = false\n    },\n    \n    /**\n     * ÈÄâÊã©‰∏ªÈ¢ò\n     */\n    selectTheme(theme) {\n      this.settings.theme = theme\n      this.saveSettings()\n      this.hideThemePopup()\n      \n      // ËøôÈáåÂèØ‰ª•Â∫îÁî®‰∏ªÈ¢ò\n      this.applyTheme(theme)\n    },\n    \n    /**\n     * Â∫îÁî®‰∏ªÈ¢ò\n     */\n    applyTheme(theme) {\n      // Ê†πÊçÆ‰∏ªÈ¢òËÆæÁΩÆÈ°µÈù¢Ê†∑Âºè\n      // ËøôÈáåÊòØÁ§∫‰æãÂÆûÁé∞\n      console.log('Â∫îÁî®‰∏ªÈ¢ò:', theme)\n    },\n    \n    /**\n     * ÊòæÁ§∫ÁºìÂ≠òÁÆ°ÁêÜ\n     */\n    showCacheManager() {\n      this.getCacheInfo()\n      this.showCachePopup = true\n    },\n    \n    /**\n     * ÈöêËóèÁºìÂ≠òÂºπÁ™ó\n     */\n    hideCachePopup() {\n      this.showCachePopup = false\n    },\n    \n    /**\n     * Ê∏ÖÁêÜÁºìÂ≠ò\n     */\n    async clearCache(type) {\n      try {\n        uni.showLoading({ title: 'Ê∏ÖÁêÜ‰∏≠...' })\n        \n        switch (type) {\n          case 'images':\n            // Ê∏ÖÁêÜÂõæÁâáÁºìÂ≠ò\n            this.cacheInfo.images = 0\n            break\n          case 'data':\n            // Ê∏ÖÁêÜÊï∞ÊçÆÁºìÂ≠ò\n            clearSync()\n            this.cacheInfo.data = 0\n            break\n          case 'all':\n            // Ê∏ÖÁêÜÂÖ®ÈÉ®ÁºìÂ≠ò\n            clearSync()\n            this.cacheInfo.images = 0\n            this.cacheInfo.data = 0\n            break\n        }\n        \n        this.cacheSize = this.cacheInfo.images + this.cacheInfo.data\n        \n        uni.showToast({\n          title: 'Ê∏ÖÁêÜÂÆåÊàê',\n          icon: 'success'\n        })\n      } catch (error) {\n        uni.showToast({\n          title: 'Ê∏ÖÁêÜÂ§±Ë¥•',\n          icon: 'none'\n        })\n      } finally {\n        uni.hideLoading()\n      }\n    },\n    \n    /**\n     * Ê£ÄÊü•Êõ¥Êñ∞\n     */\n    async checkUpdate() {\n      this.updateChecking = true\n      \n      try {\n        // Ê®°ÊãüÊ£ÄÊü•Êõ¥Êñ∞\n        await new Promise(resolve => setTimeout(resolve, 2000))\n        \n        uni.showToast({\n          title: 'Â∑≤ÊòØÊúÄÊñ∞ÁâàÊú¨',\n          icon: 'success'\n        })\n      } catch (error) {\n        uni.showToast({\n          title: 'Ê£ÄÊü•Êõ¥Êñ∞Â§±Ë¥•',\n          icon: 'none'\n        })\n      } finally {\n        this.updateChecking = false\n      }\n    },\n    \n    /**\n     * ÊòæÁ§∫ÁôªÂΩï\n     */\n    showLogin() {\n      uni.showToast({\n        title: 'ÁôªÂΩïÂäüËÉΩÂºÄÂèë‰∏≠',\n        icon: 'none'\n      })\n    },\n    \n    /**\n     * ÊòæÁ§∫‰∏™‰∫∫ËµÑÊñô\n     */\n    showProfile() {\n      uni.showToast({\n        title: '‰∏™‰∫∫ËµÑÊñôÂäüËÉΩÂºÄÂèë‰∏≠',\n        icon: 'none'\n      })\n    },\n    \n    /**\n     * Ë∑≥ËΩ¨Âà∞ÂèçÈ¶àÈ°µÈù¢\n     */\n    goToFeedback() {\n      // ËøôÈáåÊöÇÊó∂‰∏çÂºÄÂèëÂèçÈ¶àÈ°µÈù¢\n      uni.showToast({\n        title: 'ÂèçÈ¶àÂäüËÉΩÂºÄÂèë‰∏≠',\n        icon: 'none'\n      })\n    },\n    \n    /**\n     * ÊòæÁ§∫ÂÖ≥‰∫éÊàë‰ª¨\n     */\n    showAbout() {\n      uni.showModal({\n        title: 'ÂÖ≥‰∫é JJClawler',\n        content: `JJClawler ÊòØ‰∏Ä‰∏™ÊôãÊ±üÊñáÂ≠¶ÂüéÊï∞ÊçÆÂ±ïÁ§∫Â∞èÁ®ãÂ∫è\\n\\nÁâàÊú¨Ôºö${this.appVersion}\\nÂºÄÂèëËÄÖÔºöJJClawler Team`,\n        showCancel: false,\n        confirmText: 'Á°ÆÂÆö'\n      })\n    },\n    \n    /**\n     * ÊòæÁ§∫ÈÄÄÂá∫ÁôªÂΩïÁ°ÆËÆ§\n     */\n    showLogoutConfirm() {\n      uni.showModal({\n        title: 'ÈÄÄÂá∫ÁôªÂΩï',\n        content: 'Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÁôªÂΩïÂêóÔºü',\n        success: (res) => {\n          if (res.confirm) {\n            this.logout()\n          }\n        }\n      })\n    },\n    \n    /**\n     * ÈÄÄÂá∫ÁôªÂΩï\n     */\n    logout() {\n      // Ê∏ÖÈô§Áî®Êà∑‰ø°ÊÅØ\n      removeSync('user_info')\n      \n      this.userInfo = {\n        id: '',\n        nickname: '',\n        avatar: '',\n        isLogin: false\n      }\n      \n      this.userStats = {\n        followRankings: 0,\n        followBooks: 0,\n        readHistory: 0\n      }\n      \n      uni.showToast({\n        title: 'Â∑≤ÈÄÄÂá∫ÁôªÂΩï',\n        icon: 'success'\n      })\n    },\n    \n    /**\n     * Ê†ºÂºèÂåñÁºìÂ≠òÂ§ßÂ∞è\n     */\n    formatCacheSize(size) {\n      if (typeof size !== 'number') return '0B'\n      \n      const units = ['B', 'KB', 'MB', 'GB']\n      let unitIndex = 0\n      \n      while (size >= 1024 && unitIndex < units.length - 1) {\n        size /= 1024\n        unitIndex++\n      }\n      \n      return `${size.toFixed(1)}${units[unitIndex]}`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.settings-page {\n  min-height: 100vh;\n  background-color: $page-background;\n  padding-bottom: $safe-area-bottom;\n}\n\n.user-section {\n  background-color: white;\n  margin-bottom: $spacing-sm;\n  \n  .user-info {\n    @include flex-center;\n    gap: $spacing-lg;\n    padding: $spacing-lg;\n    \n    .avatar-section {\n      flex-shrink: 0;\n      \n      .user-avatar {\n        width: 120rpx;\n        height: 120rpx;\n        border-radius: 50%;\n        overflow: hidden;\n        background-color: $background-color;\n        @include flex-center;\n        \n        .avatar-image {\n          width: 100%;\n          height: 100%;\n        }\n        \n        &.placeholder {\n          .avatar-text {\n            font-size: 50rpx;\n            color: $text-placeholder;\n          }\n        }\n      }\n    }\n    \n    .user-details {\n      flex: 1;\n      \n      .user-name {\n        display: block;\n        font-size: $font-size-lg;\n        font-weight: bold;\n        color: $text-primary;\n        margin-bottom: 4rpx;\n      }\n      \n      .user-id {\n        display: block;\n        font-size: $font-size-sm;\n        color: $text-secondary;\n        margin-bottom: 4rpx;\n      }\n      \n      .user-status {\n        display: block;\n        font-size: $font-size-sm;\n        color: $success-color;\n      }\n    }\n    \n    .user-actions {\n      .action-btn {\n        @include flex-center;\n        padding: $spacing-xs $spacing-md;\n        background-color: $primary-color;\n        border-radius: $border-radius-medium;\n        \n        .btn-text {\n          font-size: $font-size-sm;\n          color: white;\n        }\n        \n        &:active {\n          opacity: 0.7;\n        }\n      }\n    }\n  }\n  \n  .user-stats {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    border-top: 2rpx solid $border-light;\n    \n    .stat-item {\n      @include flex-column-center;\n      padding: $spacing-lg;\n      border-right: 2rpx solid $border-light;\n      \n      &:last-child {\n        border-right: none;\n      }\n      \n      .stat-value {\n        font-size: $font-size-lg;\n        font-weight: bold;\n        color: $primary-color;\n        margin-bottom: 4rpx;\n      }\n      \n      .stat-label {\n        font-size: $font-size-xs;\n        color: $text-secondary;\n      }\n    }\n  }\n}\n\n.settings-section,\n.app-section {\n  background-color: white;\n  margin-bottom: $spacing-sm;\n  \n  .section-title {\n    padding: $spacing-lg $spacing-lg $spacing-md;\n    border-bottom: 2rpx solid $border-light;\n    \n    .title-text {\n      font-size: $font-size-lg;\n      font-weight: bold;\n      color: $text-primary;\n    }\n  }\n}\n\n.settings-list,\n.app-list {\n  .setting-item,\n  .app-item {\n    @include flex-between;\n    align-items: center;\n    padding: $spacing-lg;\n    border-bottom: 2rpx solid $border-light;\n    \n    &:last-child {\n      border-bottom: none;\n    }\n    \n    .item-info {\n      @include flex-center;\n      gap: $spacing-md;\n      flex: 1;\n      \n      .item-icon {\n        font-size: $font-size-lg;\n      }\n      \n      .item-content {\n        flex: 1;\n        \n        .item-title {\n          display: block;\n          font-size: $font-size-md;\n          color: $text-primary;\n          margin-bottom: 2rpx;\n        }\n        \n        .item-desc {\n          display: block;\n          font-size: $font-size-xs;\n          color: $text-secondary;\n        }\n      }\n    }\n    \n    .setting-value,\n    .item-extra {\n      @include flex-center;\n      gap: $spacing-xs;\n      \n      .value-text,\n      .extra-text {\n        font-size: $font-size-sm;\n        color: $text-secondary;\n      }\n      \n      .arrow-icon {\n        font-size: $font-size-md;\n        color: $text-placeholder;\n      }\n    }\n    \n    &:active {\n      background-color: $background-color;\n    }\n  }\n}\n\n.logout-section {\n  padding: $spacing-lg;\n  \n  .logout-btn {\n    @include flex-center;\n    padding: $spacing-md;\n    background-color: $error-color;\n    border-radius: $border-radius-medium;\n    \n    .logout-text {\n      font-size: $font-size-md;\n      color: white;\n    }\n    \n    &:active {\n      opacity: 0.7;\n    }\n  }\n}\n\n.theme-popup,\n.cache-popup {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  @include flex-center;\n  z-index: 1000;\n  \n  .popup-content {\n    background-color: white;\n    border-radius: $border-radius-large;\n    margin: $spacing-lg;\n    max-width: 600rpx;\n    width: 100%;\n    overflow: hidden;\n  }\n  \n  .popup-header {\n    @include flex-between;\n    align-items: center;\n    padding: $spacing-lg;\n    border-bottom: 2rpx solid $border-light;\n    \n    .popup-title {\n      font-size: $font-size-lg;\n      font-weight: bold;\n      color: $text-primary;\n    }\n    \n    .popup-close {\n      @include flex-center;\n      width: 60rpx;\n      height: 60rpx;\n      border-radius: 50%;\n      \n      .close-text {\n        font-size: $font-size-xl;\n        color: $text-placeholder;\n      }\n      \n      &:active {\n        background-color: $background-color;\n      }\n    }\n  }\n}\n\n.theme-options {\n  padding: $spacing-md;\n  \n  .theme-option {\n    @include flex-between;\n    align-items: center;\n    padding: $spacing-md;\n    border-radius: $border-radius-medium;\n    transition: background-color 0.3s ease;\n    \n    .theme-icon {\n      font-size: $font-size-lg;\n      margin-right: $spacing-md;\n    }\n    \n    .theme-label {\n      flex: 1;\n      font-size: $font-size-md;\n      color: $text-primary;\n    }\n    \n    .theme-check {\n      font-size: $font-size-lg;\n      color: $primary-color;\n    }\n    \n    &.active {\n      background-color: rgba(0, 122, 255, 0.1);\n      \n      .theme-label {\n        color: $primary-color;\n        font-weight: bold;\n      }\n    }\n    \n    &:active {\n      background-color: $background-color;\n    }\n  }\n}\n\n.cache-info {\n  padding: $spacing-lg;\n  \n  .cache-item {\n    @include flex-between;\n    align-items: center;\n    padding: $spacing-sm 0;\n    border-bottom: 2rpx solid $border-light;\n    \n    &:last-child {\n      border-bottom: none;\n      font-weight: bold;\n    }\n    \n    .cache-label {\n      font-size: $font-size-md;\n      color: $text-primary;\n    }\n    \n    .cache-size {\n      font-size: $font-size-md;\n      color: $text-secondary;\n    }\n  }\n}\n\n.cache-actions {\n  padding: $spacing-lg;\n  @include flex-column-center;\n  gap: $spacing-md;\n  \n  .cache-btn {\n    @include flex-center;\n    width: 100%;\n    padding: $spacing-md;\n    background-color: $primary-color;\n    border-radius: $border-radius-medium;\n    \n    .btn-text {\n      font-size: $font-size-md;\n      color: white;\n    }\n    \n    &.danger {\n      background-color: $error-color;\n    }\n    \n    &:active {\n      opacity: 0.7;\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/guliyu/weixin-miniapp/JJClawler-frontend/JJClawler-frontend/pages/settings/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","getSync","get","setSync","clearSync","removeSync"],"mappings":"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"}