{"version":3,"file":"BookList.js","sources":["components/BookList.vue","/Users/guliyu/weixin-miniapp/JJClawler-frontend/JJClawler-frontend/components/BookList.vue?type=component"],"sourcesContent":["<template>\n  <view class=\"book-list\">\n    <!-- 列表标题 -->\n    <view v-if=\"title\" class=\"list-header\">\n      <text class=\"list-title\">{{ title }}</text>\n      <text v-if=\"showCount\" class=\"list-count\">共{{ books.length }}本</text>\n    </view>\n    \n    <!-- 书籍列表 -->\n    <view class=\"books-container\">\n      <view \n        class=\"book-item\" \n        v-for=\"(book, index) in books\" \n        :key=\"book.id\"\n        @tap=\"handleBookTap(book, index)\"\n      >\n        <!-- 排名 -->\n        <view v-if=\"showRank\" class=\"book-rank\">\n          <text class=\"rank-number\">{{ index + 1 }}</text>\n        </view>\n        \n        <!-- 书籍信息 -->\n        <view class=\"book-info\">\n          <view class=\"book-title-row\">\n            <text class=\"book-title\">{{ book.title }}</text>\n          </view>\n          \n          <view class=\"book-stats\">\n            <!-- 点击量 -->\n            <view v-if=\"book.clicks !== undefined\" class=\"stat-item\">\n              <text class=\"stat-label\">点击:</text>\n              <text class=\"stat-value\">{{ formatNumber(book.clicks) }}</text>\n            </view>\n            \n            <!-- 收藏量 -->\n            <view v-if=\"book.collections !== undefined\" class=\"stat-item\">\n              <text class=\"stat-label\">收藏:</text>\n              <text class=\"stat-value\">{{ formatNumber(book.collections) }}</text>\n            </view>\n            \n            <!-- 收藏量变化 -->\n            <view v-if=\"book.collectionChange !== undefined\" class=\"stat-item change\">\n              <text class=\"stat-label\">收藏变化:</text>\n              <text class=\"stat-value\" :class=\"getChangeClass(book.collectionChange)\">\n                {{ formatChange(book.collectionChange) }}\n              </text>\n            </view>\n            \n            <!-- 排名变化 -->\n            <view v-if=\"book.rankChange !== undefined\" class=\"stat-item change\">\n              <text class=\"stat-label\">排名变化:</text>\n              <text class=\"stat-value\" :class=\"getChangeClass(book.rankChange)\">\n                {{ formatRankChange(book.rankChange) }}\n              </text>\n            </view>\n          </view>\n        </view>\n        \n        <!-- 操作按钮 -->\n        <view v-if=\"showActions\" class=\"book-actions\">\n          <view \n            v-if=\"actionType === 'unfollow'\" \n            class=\"action-btn unfollow-btn\"\n            @tap.stop=\"handleUnfollow(book, index)\"\n          >\n            <text class=\"action-text\">取消关注</text>\n          </view>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 空状态 -->\n    <view v-if=\"books.length === 0\" class=\"empty-state\">\n      <text class=\"empty-text\">{{ emptyText || '暂无数据' }}</text>\n    </view>\n  </view>\n</template>\n\n<script>\n/**\n * 书籍列表组件\n * @description 可复用的书籍列表展示组件，支持多种显示模式\n */\nexport default {\n  name: 'BookList',\n  \n  props: {\n    // 书籍列表数据\n    books: {\n      type: Array,\n      default: () => []\n    },\n    \n    // 列表标题\n    title: {\n      type: String,\n      default: ''\n    },\n    \n    // 是否显示数量\n    showCount: {\n      type: Boolean,\n      default: false\n    },\n    \n    // 是否显示排名\n    showRank: {\n      type: Boolean,\n      default: true\n    },\n    \n    // 是否显示操作按钮\n    showActions: {\n      type: Boolean,\n      default: false\n    },\n    \n    // 操作类型 unfollow-取消关注\n    actionType: {\n      type: String,\n      default: 'unfollow'\n    },\n    \n    // 空状态文本\n    emptyText: {\n      type: String,\n      default: '暂无数据'\n    }\n  },\n  \n  methods: {\n    /**\n     * 处理书籍点击\n     */\n    handleBookTap(book, index) {\n      this.$emit('book-tap', { book, index })\n    },\n    \n    /**\n     * 处理取消关注\n     */\n    handleUnfollow(book, index) {\n      this.$emit('unfollow', { book, index })\n    },\n    \n    /**\n     * 格式化数字\n     */\n    formatNumber(num) {\n      if (num >= 10000) {\n        return (num / 10000).toFixed(1) + '万'\n      }\n      return num.toString()\n    },\n    \n    /**\n     * 格式化变化值\n     */\n    formatChange(change) {\n      if (change > 0) {\n        return `+${change}`\n      } else if (change < 0) {\n        return change.toString()\n      } else {\n        return '0'\n      }\n    },\n    \n    /**\n     * 格式化排名变化\n     */\n    formatRankChange(change) {\n      if (change > 0) {\n        return `↗ +${change}`\n      } else if (change < 0) {\n        return `↘ ${change}`\n      } else {\n        return `— 0`\n      }\n    },\n    \n    /**\n     * 获取变化样式类名\n     */\n    getChangeClass(change) {\n      if (change > 0) {\n        return 'positive'\n      } else if (change < 0) {\n        return 'negative'\n      } else {\n        return 'neutral'\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.book-list {\n  .list-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0 32rpx 24rpx;\n    \n    .list-title {\n      font-size: 36rpx;\n      font-weight: 600;\n      color: #000000;\n      font-family: 'Inter', sans-serif;\n    }\n    \n    .list-count {\n      font-size: 28rpx;\n      font-weight: 400;\n      color: #666666;\n      font-family: 'Inter', sans-serif;\n    }\n  }\n  \n  .books-container {\n    padding: 0 32rpx;\n    \n    .book-item {\n      display: flex;\n      align-items: center;\n      background-color: #c3c3c3;\n      border-radius: 16rpx;\n      padding: 24rpx;\n      margin-bottom: 16rpx;\n      transition: $transition-fast;\n      \n      &:active {\n        opacity: 0.8;\n        transform: scale(0.98);\n      }\n      \n      .book-rank {\n        width: 48rpx;\n        height: 48rpx;\n        background-color: #999999;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin-right: 24rpx;\n        flex-shrink: 0;\n        \n        .rank-number {\n          font-size: 24rpx;\n          font-weight: 600;\n          color: #ffffff;\n        }\n      }\n      \n      .book-info {\n        flex: 1;\n        min-width: 0;\n        \n        .book-title-row {\n          margin-bottom: 12rpx;\n          \n          .book-title {\n            font-size: 32rpx;\n            font-weight: 500;\n            color: #000000;\n            font-family: 'Inter', sans-serif;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 1;\n            overflow: hidden;\n          }\n        }\n        \n        .book-stats {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 16rpx;\n          \n          .stat-item {\n            display: flex;\n            align-items: center;\n            font-size: 24rpx;\n            \n            .stat-label {\n              color: #666666;\n              margin-right: 8rpx;\n            }\n            \n            .stat-value {\n              color: #333333;\n              font-weight: 500;\n              \n              &.positive {\n                color: #34c759;\n              }\n              \n              &.negative {\n                color: #ff3b30;\n              }\n              \n              &.neutral {\n                color: #999999;\n              }\n            }\n          }\n        }\n      }\n      \n      .book-actions {\n        margin-left: 16rpx;\n        flex-shrink: 0;\n        \n        .action-btn {\n          padding: 12rpx 24rpx;\n          border-radius: 16rpx;\n          \n          &.unfollow-btn {\n            background-color: #ff3b30;\n            \n            .action-text {\n              font-size: 24rpx;\n              color: #ffffff;\n            }\n          }\n          \n          &:active {\n            opacity: 0.8;\n          }\n        }\n      }\n    }\n  }\n  \n  .empty-state {\n    padding: 120rpx 32rpx;\n    text-align: center;\n    \n    .empty-text {\n      font-size: 28rpx;\n      color: #999999;\n      font-family: 'Inter', sans-serif;\n    }\n  }\n}\n</style> ","import Component from '/Users/guliyu/weixin-miniapp/JJClawler-frontend/JJClawler-frontend/components/BookList.vue'\nwx.createComponent(Component)"],"names":[],"mappings":";;AAmFA,MAAK,YAAU;AAAA,EACb,MAAM;AAAA,EAEN,OAAO;AAAA;AAAA,IAEL,OAAO;AAAA,MACL,MAAM;AAAA,MACN,SAAS,MAAM,CAAC;AAAA,IACjB;AAAA;AAAA,IAGD,OAAO;AAAA,MACL,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA;AAAA,IAGD,WAAW;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA;AAAA,IAGD,UAAU;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA;AAAA,IAGD,aAAa;AAAA,MACX,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA;AAAA,IAGD,YAAY;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA;AAAA,IAGD,WAAW;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,EACD;AAAA,EAED,SAAS;AAAA;AAAA;AAAA;AAAA,IAIP,cAAc,MAAM,OAAO;AACzB,WAAK,MAAM,YAAY,EAAE,MAAM,OAAO;AAAA,IACvC;AAAA;AAAA;AAAA;AAAA,IAKD,eAAe,MAAM,OAAO;AAC1B,WAAK,MAAM,YAAY,EAAE,MAAM,OAAO;AAAA,IACvC;AAAA;AAAA;AAAA;AAAA,IAKD,aAAa,KAAK;AAChB,UAAI,OAAO,KAAO;AAChB,gBAAQ,MAAM,KAAO,QAAQ,CAAC,IAAI;AAAA,MACpC;AACA,aAAO,IAAI,SAAS;AAAA,IACrB;AAAA;AAAA;AAAA;AAAA,IAKD,aAAa,QAAQ;AACnB,UAAI,SAAS,GAAG;AACd,eAAO,IAAI,MAAM;AAAA,MACnB,WAAW,SAAS,GAAG;AACrB,eAAO,OAAO,SAAS;AAAA,aAClB;AACL,eAAO;AAAA,MACT;AAAA,IACD;AAAA;AAAA;AAAA;AAAA,IAKD,iBAAiB,QAAQ;AACvB,UAAI,SAAS,GAAG;AACd,eAAO,MAAM,MAAM;AAAA,MACrB,WAAW,SAAS,GAAG;AACrB,eAAO,KAAK,MAAM;AAAA,aACb;AACL,eAAO;AAAA,MACT;AAAA,IACD;AAAA;AAAA;AAAA;AAAA,IAKD,eAAe,QAAQ;AACrB,UAAI,SAAS,GAAG;AACd,eAAO;AAAA,MACT,WAAW,SAAS,GAAG;AACrB,eAAO;AAAA,aACF;AACL,eAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjMA,GAAG,gBAAgB,SAAS;"}